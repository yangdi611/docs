# 挑战

从一体式到微服务的重构路径并不平坦，布满挑战。并非所有的一体式软件都可以被重构，有些软件甚至在当下无法“生存”。在确定整体组件是否可能进行重构时，要考虑许多可能的问题。

考虑使用旧编程语言（如Cobol或Assembler）编写的基于Mainframe（大型机）的旧系统时，将其重新构建为云原生应用程序可能更经济。设计欠佳的遗留应用程序应按照微服务甚至容器的现代体系结构模式从头开始重新设计和重建。与数据存储紧密结合的应用程序也不太适合进行重构。

一旦一体式软件被定义为可以被重构，下一个挑战就是设计机制或找到合适的工具来使所有解耦的模块保持可以工作并具有一定的弹性。

选择运行时（runtime）可能是另一个挑战。如果在单个物理或虚拟服务器上部署许多模块，则不同的库和运行时环境可能相互冲突，从而导致错误和故障。这迫使每个服务器部署单个模块以分离它们的依赖关系-这不是一种经济的资源管理方式，也没有对库和运行时进行真正的隔离，因为每个服务器还具有与其库一起运行的底层操作系统，因此消耗了服务器资源-有时OS消耗的资源比应用程序模块本身更多。

最终，应用程序容器出现了，为应用程序模块提供了封装的轻量级运行时环境。从开发到生产，容器一直为开发人员，测试人员保证一致的软件环境。持确保了应用程序从容器的广泛支物理裸机到虚拟机的可移植性，但是这次在同一服务器上部署了多个应用程序，每个应用程序都在彼此独立的各自执行环境中运行，从而避免了冲突，错误和故障。容器化应用程序环境的其他功能包括更高的服务器利用率，单个模块的可伸缩性，灵活性，互操作性以及与自动化工具的轻松集成。

